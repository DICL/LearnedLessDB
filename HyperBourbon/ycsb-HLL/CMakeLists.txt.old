cmake_minimum_required(VERSION 3.10)

project(leveldb-ycsb)

set(CMAKE_CXX_COMPILER "g++")
set(CMAKE_C_FLAGS "-Wall -Wsign-compare -O3 -g -DNDEBUG")

##
# Compiler options
set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wfatal-errors ")
set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -I/koo/Bourbon/include")
set(CMAKE_CXX_FLAGS "${CMAKE_C_FLAGS} -std=c++17 -march=native -fno-rtti ")

link_directories(../build)

add_executable(ycsb
  src/main.cc
  src/rocksdb_client.cc
  core/core_workload.cc
  )
#../build/lib/librocksdb.a

target_include_directories(ycsb PRIVATE
  #../build/include
  ../include
  /koo/Bourbon/include
  /koo/Bourbon/build/include
  /koo/Bourbon/koo
/koo/Bourbon/db
  /koo/Bourbon/mod
  /koo/Bourbon/port
  /koo/Bourbon/util
  /koo/Bourbon/table
  ${PROJECT_SOURCE_DIR}
  )
target_link_libraries(ycsb
  pthread
  stdc++fs
	leveldb
  dl
  zstd
  lz4
  bz2
  snappy
  z)
